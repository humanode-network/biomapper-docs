---
description: What is signer server and what does it sign.
---

import { Callout } from "nextra/components";

# Signing Server

## Flow Management

### Integration Server

The signer server is a part of the Biomapper flow.

Integration server does:

- manages cookies;
- manages session;
- acts as OAuth 2 Client for Humanode OAuth 2 Service;
- "Signer server": form and signs data (`EIP-712`).

### Cookies

The only cookie stored in the user's browser during Biomapper flow is the Session ID.

### Session

When a user first accesses Biomapper, a new session opens after consenting to the Terms of Service and Privacy Policy. The initial data stored in the session is the OAuth 2 Client ID, used to invalidate the existing session upon a biometric generation change, preventing Sybil attacks. Following this, the OAuth 2 flow commences, with secrets for validating its results being stored as well. Upon completion of the OAuth 2 flow, a JWT is acquired on the callback page, and the subject field is stored. Subsequently, the user is redirected to the sign page.

## Create signature API call

Signer server gets an API call with the user account address in its body. The response of this call is Biotoken and Signature.

### Biotoken

Biotoken is a salted hash of JWT subject. It created during `Create signature` API call.

<Callout type="info">
  For simplicity, it can be stated that the Biotoken is stored upon completing
  the OAuth 2 flow.
</Callout>

The primary purpose of creating the Biotoken is to prevent the leakage of the JWT subject. This is particularly advantageous when different apps utilize the same instance of the Humanode OAuth 2 Service.

### Signature

The signing message includes the Biotoken, account address, and EIP-712 Domain. This message is signed by the private key of the Signer server.

The signature asserts that the user is alive, that the user's biometrics are uniquely identified by the Biotoken, and that the user has chosen a specific address to biomap their face to.

The signature does not assert biomapping uniqueness or address ownership.
